<head>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link rel="stylesheet" href="awesomplete/awesomplete.css" />
  <script src="awesomplete/awesomplete.js"></script>
  
  <!-- <script type="text/javascript" src="typeahead.bundle"></script> -->
  
  <script type="text/javascript" src="data.json"></script>
    <link href="dashboard.css" rel="stylesheet">
  
</head>

<body>
  
      <nav class="navbar navbar-toggleable-md navbar-inverse fixed-top bg-inverse">
      <button class="navbar-toggler navbar-toggler-right hidden-lg-up" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#">Dashboard</a>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Settings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Help</a>
          </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
  
  
  <div class="container">
  <div class="row">
    <div class="col">
      Gene Name:<input id="genesearch" />
    </div>
    <div class="col">
      <div id="myDiv"><!-- Plotly chart will be drawn inside this DIV --></div>
    </div>
  </div>
</div>

<script>

function filterByGene(gene) {
	filtered = [];
	for (index in cancermine) {
		if (cancermine[index]['gene'] == gene)
			filtered.push(cancermine[index])
	}
	return gene;
}

//var data = [trace1, trace2];
//var layout = {barmode: 'stack'};

selectedGene = 'EGFR1';

driverLabels = []
driverCounts = []
oncogeneLabels = []
oncogeneCounts = []
suppressorLabels = []
suppressorCounts = []
for (index in cancermine)
{
	if (cancermine[index]['gene'] == selectedGene)
	{
		if (cancermine[index]['relationtype'] == 'Driver') {
			driverLabels.push(cancermine[index]['cancer']);
			driverCounts.push(cancermine[index]['count']);
		} else if (cancermine[index]['relationtype'] == 'Oncogene') {
			oncogeneLabels.push(cancermine[index]['cancer']);
			oncogeneCounts.push(cancermine[index]['count']);
		} else if (cancermine[index]['relationtype'] == 'Tumor Suppressor') {
			suppressorLabels.push(cancermine[index]['cancer']);
			suppressorCounts.push(cancermine[index]['count']);
		}
	}
}

var data = [
	{x: driverLabels,y: driverCounts,name: 'Driver',type: 'bar'},
	{x: oncogeneLabels,y: oncogeneCounts,name: 'Oncogene',type: 'bar'},
	{x: suppressorLabels,y: suppressorCounts,name: 'Tumor Suppressor',type: 'bar'},
];
Plotly.newPlot('myDiv', data);

var input = document.getElementById("genesearch");
new Awesomplete(input, {
list: genes
});

Array.prototype.ap = function(xs) {
  return this.reduce((acc, f) => acc.concat(xs.map(f)), []) 
}


const result = [x => x +1].ap([2])
console.log(result)


</script>

</body>